function drawTrees(){$("#points-spent").text(pointsSpent),$("#max-points").text(maxPoints);for(var e=0;NUM_TREES>e;e++)for(var a=0;TREE_LENGTH>a;a++){var s=$(tree_names[e*TREE_LENGTH+a]).css("backgroundPosition").split(" ");$(tree_names[e*TREE_LENGTH+a]).hasClass("full")?($(tree_names[e*TREE_LENGTH+a]).css("background-position",s[0]+" 0px"),$(tree_names[e*TREE_LENGTH+a]).css("border-color","#8899CC"),$(tree_names[e*TREE_LENGTH+a]).css("box-shadow","0px 0px 5px #8899CC")):$(tree_names[e*TREE_LENGTH+a]).hasClass("available")?($(tree_names[e*TREE_LENGTH+a]).css("background-position",s[0]+" -50px"),$(tree_names[e*TREE_LENGTH+a]).css("border-color","#777777"),$(tree_names[e*TREE_LENGTH+a]).css("box-shadow","0px 0px 0px #8899CC")):($(tree_names[e*TREE_LENGTH+a]).css("background-position",s[0]+" -50px"),$(tree_names[e*TREE_LENGTH+a]).css("border-color","#444444"),$(tree_names[e*TREE_LENGTH+a]).css("box-shadow","0px 0px 0px #8899CC"))}}var TREE_LENGTH=4,NUM_TREES=2,pointsSpent=0,maxPoints=6,buttonClasses=["unavailable","available","full"],tree_names=["#tree-1-1","#tree-1-2","#tree-1-3","#tree-1-4","#tree-2-1","#tree-2-2","#tree-2-3","#tree-2-4"],tree_active=["available","unavailable","unavailable","unavailable","available","unavailable","unavailable","unavailable"];$(function(){document.oncontextmenu=function(){return!1};for(var e=0;NUM_TREES>e;e++)for(var a=0;TREE_LENGTH>a;a++)$(tree_names[e*TREE_LENGTH+a]).removeClass(),$(tree_names[e*TREE_LENGTH+a]).addClass("ts-calc-button"),$(tree_names[e*TREE_LENGTH+a]).addClass(tree_active[e*TREE_LENGTH+a]);drawTrees();for(var e=0;NUM_TREES>e;e++)for(var a=0;TREE_LENGTH>a;a++)$(tree_names[e*TREE_LENGTH+a]).click(function(){if($(this).hasClass("available")&&maxPoints>pointsSpent){pointsSpent++,$(this).removeClass(),$(this).addClass("ts-calc-button"),$(this).addClass("full");var e=tree_names.indexOf("#"+$(this).attr("id"));console.log("thisOne is "+e);var a=e+1;a%TREE_LENGTH!=0&&($(tree_names[a]).removeClass(),$(tree_names[a]).addClass("ts-calc-button"),$(tree_names[a]).addClass("available"))}drawTrees()}),$(tree_names[e*TREE_LENGTH+a]).mousedown(function(e){if(2==e.button){if($(this).hasClass("full")){var a=tree_names.indexOf("#"+$(this).attr("id"));console.log("thisOne is "+a);var s=a+1;$(tree_names[s]).hasClass("full")&&s%TREE_LENGTH!=0||(pointsSpent--,$(this).removeClass(),$(this).addClass("ts-calc-button"),$(this).addClass("available"),s%TREE_LENGTH!=0&&($(tree_names[s]).removeClass(),$(tree_names[s]).addClass("ts-calc-button"),$(tree_names[s]).addClass("unavailable")))}drawTrees()}})});